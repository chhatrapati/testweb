(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{cngr:function(n,e,l){"use strict";l.r(e);var t=l("8Y7J");class a{}var o=l("YImT"),r=l("1R5E"),i=l("fS5t"),s=l("pMnS"),u=l("FJoE"),c=l("TSSN"),b=l("s7LF"),p=l("0fkH"),d=l("iInd"),m=l("SVse"),g=l("eIep"),h=l("Qwn9"),f=l("dkQB"),C=l("B61Y"),v=l("lGQG"),x=l("fokQ");class w{constructor(n,e,l,t,a){this.authService=n,this.sessionStorage=e,this.activatedRoute=l,this.translateService=t,this.router=a,this.initForm()}submit(n){this.form.invalid||(this.form.disable(),this.authService.signIn(n).pipe(Object(g.a)(n=>(this.sessionStorage.store(n),this.authService.getProfile()))).subscribe(n=>{const e=this.sessionStorage.restore(),l=this.activatedRoute.snapshot.queryParams.songsheet,t=this.activatedRoute.snapshot.queryParams.returnUrl;this.sessionStorage.store(Object.assign({},e,n)),l&&parseInt(l,10)?this.router.navigate(["/music-scores",parseInt(l,10)]):this.router.navigate(t?[t]:["/"])},()=>{this.sessionStorage.destroy(),this.form.enable()}))}initForm(){var n;this.form=new b.k({}),this.model={email:"",password:""},this.fields=(n=this.translateService,[{key:"email",type:"input",className:"auth-field",templateOptions:{type:"email",pattern:f.e,required:!0,hideRequiredMarker:!0},validators:{validation:C.a},expressionProperties:{"templateOptions.label":()=>n.instant("SignIn.Form.EmailLabel"),"templateOptions.placeholder":()=>n.instant("SignIn.Form.EmailPlaceholder")},validation:{messages:{required:Object(h.b)(n),email:Object(h.a)(n),pattern:Object(h.a)(n)}}},{key:"password",type:"input",className:"auth-field",templateOptions:{type:"password",placeholder:"Enter your password",required:!0,hideRequiredMarker:!0,minLength:f.i,maxLength:f.h,pattern:f.j},expressionProperties:{"templateOptions.label":()=>n.instant("SignIn.Form.PasswordLabel")},validation:{messages:{pattern:()=>n.instant("Validation.Common.Password"),minlength:()=>n.instant("Validation.Common.PassLength"),maxlength:()=>n.instant("Validation.Common.PassLength")}}}])}}var P=t.qb({encapsulation:0,styles:[u.a,[".btn[_ngcontent-%COMP%]{height:50px;border-radius:25px;padding-left:30px;padding-right:30px;font-family:Montserrat,sans-serif;font-size:14px;font-weight:900;letter-spacing:2.66px;text-align:center;text-transform:uppercase;transition:all ease-in .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#ee4036;border-color:#ee4036;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]{background-color:#393e41;border-color:#393e41}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#ee4036;border-color:#ee4036}.btn-white[_ngcontent-%COMP%]{color:#a0a0a0;border:3px solid #a0a0a0}.btn-white[_ngcontent-%COMP%]:hover{border-width:3px}.btn-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:0}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.hidden[_ngcontent-%COMP%], [hidden][_ngcontent-%COMP%]{display:none!important}a[_ngcontent-%COMP%]{line-height:1.43;color:#393e41;transition:color ease-in-out .2s}a[_ngcontent-%COMP%]:hover{color:#ee4036}.text-ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.delimiter[_ngcontent-%COMP%]{height:1px;background-color:#ececec;margin:30px -15px}.card[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:15px;box-shadow:0 5px 50px -25px rgba(0,0,0,.25)}.mt-30[_ngcontent-%COMP%]{margin-top:30px}.mt-40[_ngcontent-%COMP%]{margin-top:40px}.mt-50[_ngcontent-%COMP%]{margin-top:50px}.mt-60[_ngcontent-%COMP%]{margin-top:60px}.p-rl-10[_ngcontent-%COMP%]{padding:0 10px}.p-rl-25[_ngcontent-%COMP%]{padding:0 25px}.forgot-password[_ngcontent-%COMP%]{margin-bottom:25px;padding:0;font-size:14px}"]],data:{}});function O(n){return t.Ob(2,[(n()(),t.sb(0,0,null,null,32,"div",[["class","authentication-wrapper w-100 h-100"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,31,"div",[["class","authentication-container"]],null,null,null,null,null)),(n()(),t.sb(2,0,null,null,30,"div",[["content",""]],null,null,null,null,null)),(n()(),t.sb(3,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(n()(),t.sb(4,0,null,null,28,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),t.sb(5,0,null,null,3,"div",[["toolbar",""]],null,null,null,null,null)),(n()(),t.sb(6,0,null,null,2,"h2",[["class","h2 font-bold text-center"]],null,null,null,null,null)),(n()(),t.Mb(7,null,["",""])),t.Gb(131072,c.j,[c.k,t.h]),(n()(),t.sb(9,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,e,l){var a=!0,o=n.component;return"submit"===e&&(a=!1!==t.Eb(n,11).onSubmit(l)&&a),"reset"===e&&(a=!1!==t.Eb(n,11).onReset()&&a),"ngSubmit"===e&&(a=!1!==o.submit(o.model)&&a),a},null,null)),t.rb(10,16384,null,0,b.D,[],null,null),t.rb(11,540672,null,0,b.l,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Jb(2048,null,b.d,null,[b.l]),t.rb(13,16384,null,0,b.q,[[4,b.d]],null,null),(n()(),t.sb(14,0,null,null,11,"formly-form",[],null,null,null,o.c,o.a)),t.Jb(512,null,p.h,p.h,[p.e,t.j,t.q]),t.rb(16,966656,null,0,p.g,[p.h,p.e,[8,null],[2,b.l]],{form:[0,"form"],model:[1,"model"],fields:[2,"fields"]},null),(n()(),t.sb(17,0,null,0,5,"p",[["class","forgot-password text-right"]],null,null,null,null,null)),(n()(),t.sb(18,0,null,null,4,"a",[["class","col-md-12"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var a=!0;return"click"===e&&(a=!1!==t.Eb(n,19).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&a),a},null,null)),t.rb(19,671744,null,0,d.p,[d.m,d.a,m.j],{routerLink:[0,"routerLink"]},null),t.Fb(20,1),(n()(),t.Mb(21,null,[" "," "])),t.Gb(131072,c.j,[c.k,t.h]),(n()(),t.sb(23,0,null,0,2,"button",[["class","btn btn-secondary w-100"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),t.Mb(24,null,[" "," "])),t.Gb(131072,c.j,[c.k,t.h]),(n()(),t.sb(26,0,null,null,6,"p",[["class","below-auth text-center"]],null,null,null,null,null)),(n()(),t.Mb(-1,null,[" Don't have an account? "])),(n()(),t.sb(28,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,e,l){var a=!0;return"click"===e&&(a=!1!==t.Eb(n,29).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&a),a},null,null)),t.rb(29,671744,null,0,d.p,[d.m,d.a,m.j],{routerLink:[0,"routerLink"]},null),t.Fb(30,1),(n()(),t.Mb(31,null,["",""])),t.Gb(131072,c.j,[c.k,t.h])],function(n,e){var l=e.component;n(e,11,0,l.form),n(e,16,0,l.form,l.model,l.fields);var t=n(e,20,0,"/reset-password");n(e,19,0,t);var a=n(e,30,0,"/sign-up");n(e,29,0,a)},function(n,e){var l=e.component;n(e,7,0,t.Nb(e,7,0,t.Eb(e,8).transform("SignIn.FormHeader"))),n(e,9,0,t.Eb(e,13).ngClassUntouched,t.Eb(e,13).ngClassTouched,t.Eb(e,13).ngClassPristine,t.Eb(e,13).ngClassDirty,t.Eb(e,13).ngClassValid,t.Eb(e,13).ngClassInvalid,t.Eb(e,13).ngClassPending),n(e,18,0,t.Eb(e,19).target,t.Eb(e,19).href),n(e,21,0,t.Nb(e,21,0,t.Eb(e,22).transform("SignIn.Restore password"))),n(e,23,0,!l.form.valid),n(e,24,0,t.Nb(e,24,0,t.Eb(e,25).transform("SignIn.SignInBtn"))),n(e,28,0,t.Eb(e,29).target,t.Eb(e,29).href),n(e,31,0,t.Nb(e,31,0,t.Eb(e,32).transform("SignIn.Create an account")))})}function k(n){return t.Ob(0,[(n()(),t.sb(0,0,null,null,1,"app-sign-in",[],null,null,null,O,P)),t.rb(1,49152,null,0,w,[v.a,x.a,d.a,c.k,d.m],null,null)],null,null)}var M=t.ob("app-sign-in",w,k,{},{},[]),y=l("IheW"),S=l("7nlb"),E=l("MibS"),_=l("phY7"),I=l("fXz7"),j=l("fdx1");let q=(()=>{class n{constructor(n,e){this.sessionStorage=n,this.router=e}canActivate(n,e){if(!this.sessionStorage.restore())return!0;this.router.navigate(["/"])}}return n.ngInjectableDef=t.Sb({factory:function(){return new n(t.Tb(x.a),t.Tb(d.m))},token:n,providedIn:"root"}),n})();l.d(e,"SignInModuleNgFactory",function(){return L});var L=t.pb(a,[],function(n){return t.Bb([t.Cb(512,t.j,t.ab,[[8,[o.e,o.f,r.a,i.b,i.a,i.d,i.e,i.f,i.c,i.g,s.a,M]],[3,t.j],t.w]),t.Cb(4608,m.o,m.n,[t.t,[2,m.D]]),t.Cb(4608,b.g,b.g,[]),t.Cb(4608,b.A,b.A,[]),t.Cb(4608,p.h,p.h,[p.e,t.j,t.q]),t.Cb(4608,c.g,c.f,[]),t.Cb(4608,c.c,c.e,[]),t.Cb(4608,c.i,c.d,[]),t.Cb(4608,c.b,c.a,[]),t.Cb(4608,c.k,c.k,[c.l,c.g,c.c,c.i,c.b,c.m,c.n]),t.Cb(4608,v.a,v.a,["API_URL_TOKEN",y.c]),t.Cb(1073742336,m.c,m.c,[]),t.Cb(1073742336,b.z,b.z,[]),t.Cb(1073742336,b.v,b.v,[]),t.Cb(512,p.e,p.e,[]),t.Cb(1024,p.a,function(n){return[{wrappers:[{name:"addons",component:S.b}],extensions:[{name:"addons",extension:{postPopulate:S.c}}]},{types:[{name:"input",component:E.c,wrappers:["form-field"]},{name:"checkbox",component:E.b,wrappers:["form-field"]},{name:"radio",component:E.e,wrappers:["form-field"]},{name:"select",component:E.f,wrappers:["form-field"]},{name:"textarea",component:E.g,wrappers:["form-field"]},{name:"multicheckbox",component:E.d,wrappers:["form-field"]}],wrappers:[{name:"form-field",component:E.h}]},p.j(n),{validationMessages:[{name:"required",message:"This field is required"},{name:"minlength",message:_.d},{name:"maxlength",message:_.b},{name:"min",message:_.c},{name:"max",message:_.a}],validators:[{name:"email",validation:b.y.email}]}]},[p.e]),t.Cb(1073742336,p.i,p.i,[p.e,[2,p.a]]),t.Cb(1073742336,I.a,I.a,[]),t.Cb(1073742336,S.a,S.a,[]),t.Cb(1073742336,E.a,E.a,[]),t.Cb(1073742336,d.q,d.q,[[2,d.v],[2,d.m]]),t.Cb(1073742336,j.a,j.a,[]),t.Cb(1073742336,c.h,c.h,[]),t.Cb(1073742336,a,a,[]),t.Cb(1024,d.k,function(){return[[{path:"",component:w,canActivate:[q]}]]},[]),t.Cb(256,c.n,void 0,[]),t.Cb(256,c.m,void 0,[])])})}}]);